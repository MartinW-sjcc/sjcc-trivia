<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>SJCC Member Trivia of the Day</title>

<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f7f7f7;
    text-align: center;
  }

  #container {
    width: 100%;
    height: 100vh;
    display: flex;
    flex-direction: column;
  }

  #top {
    padding: 20px;
    background: #003366;
    color: white;
  }

  #question-area {
    padding: 20px;

  .logo {
  width: 300px;      /* adjust size here */
  max-width: 80%;    /* keeps it responsive */
  margin-bottom: 20px;
}

/>

  }

  #formFrame {
    width: 100%;
    height: 100vh; 
    border: none;
    display: none; /* hidden until user taps "Answer Now" */
  }

  #startButton {
    padding: 18px 30px;
    font-size: 22px;
    background: #0077cc;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
  }

  #startButton:hover {
    background: #005fa3;
  }

 .btn-small {
    display: inline-block;
    padding: 12px 25px;
    margin-top: 15px;
    background: #005A9C;
    color: white;
    font-size: 18px;
    border-radius: 8px;
    text-decoration: none;
  }

  #resultsPanel {
    display: none;
    margin-top: 30px;
  }

  #resultsPanel iframe {
    width: 95%;
    height: 350px;
    border: none;
    border-radius: 10px;
  }

  
  img.qr {
    width: 220px;
    margin-top: 20px;
  }
</style>

<script>
// ===== CONFIGURATION =====
const FORM_URL = "https://docs.google.com/forms/d/1sEM61qfEmEz5GBjCW0SmVohOpn_gEV-KWhpF60wCbec/viewform";     // <-- replace this
const KIOSK_URL = "https://martinw-sjcc.github.io/sjcc-trivia/";     // <-- replace this
const RESULTS_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSsuXBXwKN1wxzB78a6DOJJFZFYuGk1iH7GviRi1ruhHed8NnP-7EZhRM6BSB20vv3e8YQZdceI-Az4/pubchart?oid=1598696723&amp;format=interactive";
const RESET_TIME = 45000; // 45 seconds → change if needed

let resetTimer;

// Start/reset the kiosk timer
function startResetTimer() {
  clearTimeout(resetTimer);
  resetTimer = setTimeout(() => {
    // Return to kiosk home screen
    window.location.href = KIOSK_URL;
  }, RESET_TIME);
}

// Called when visitor clicks "Answer Today's Trivia Now"
function startTrivia() {
  document.getElementById("mainScreen").style.display = "none";
  document.getElementById("formFrame").src = FORM_URL;
  document.getElementById("formFrame").style.display = "block";

  // Restart timer for the form view
  startResetTimer();
}

window.onload = () => {
  // Start the correction/reset timer
  startResetTimer();
};

  // Handle Results Button
document.getElementById("resultsBtn").onclick = () => {
  showResultsPanel();
};

function showResultsPanel() {
  const panel = document.getElementById("resultsPanel");
  const frame = document.getElementById("resultsFrame");

  frame.src = RESULTS_URL;
  panel.style.display = "block";

  // Close after 30 seconds
  clearTimeout(answerTimeout);
  answerTimeout = setTimeout(() => {
    panel.style.display = "none";
    frame.src = "";
  }, 30000);
}

  
</script>

</head>
<body>

<div id="container">

  <!-- SCREEN 1: KIOSK HOME PAGE -->
  <div id="mainScreen">
    <div id="top">
      <h1>SJCC Member Trivia of the Day</h1>
    </div>

    <div id="question-area">
    

      <!-- QR CODE (optional) -->
      <!img class="qr" src="qr.png" alt="QR Code" />
<img 
  class="logo" 
  src="251104-website-homepage-header-1180x180-1.jpg" 
  alt="SJCC Logo" />
      <br><br>

      <!-- Start button -->
      <button id="startButton" onclick="startTrivia()">Answer Today's Trivia Now</button>

 <!-- View Results Button -->
  <a id="resultsBtn" class="btn-small">View Today’s Results</a>

  <!-- Auto-Hiding Results Panel -->
  <div id="resultsPanel">
    <iframe id="resultsFrame" src=""></iframe>
    <p style="font-size:14px;color:#555;margin-top:10px;">This panel will close automatically.</p>
  </div>
      
    </div>
  </div>

  <!-- SCREEN 2: GOOGLE FORM INSIDE IFRAME -->
  <iframe id="formFrame"></iframe>

</div>

</body>
</html>





